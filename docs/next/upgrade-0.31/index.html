<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Upgrade to 0.31.x Guide · ReNative</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;img src=&quot;https://renative.org/img/ic_upgrade.png&quot; width=50 height=50 /&gt;"/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Upgrade to 0.31.x Guide · ReNative"/><meta property="og:type" content="website"/><meta property="og:url" content="https://renative.org/"/><meta property="og:description" content="&lt;img src=&quot;https://renative.org/img/ic_upgrade.png&quot; width=50 height=50 /&gt;"/><meta property="og:image" content="https://renative.org/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://renative.org/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo.png" alt="ReNative"/><h2 class="headerTitleWithLogo">ReNative</h2></a><a href="/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/next/intro-quickstart" target="_self">Docs</a></li><li class=""><a href="/docs/next/api-config" target="_self">API</a></li><li class=""><a href="https://twitter.com/renative" target="_self">Twitter</a></li><li class=""><a href="https://github.com/pavjacko/renative" target="_self">Github</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Upgrades</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/intro-quickstart">Quick Start</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro-installation">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro-migrating_react_native">Migrating react-native</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro-features">Features</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro-customize">Customize ReNative</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro-architecture">Architecture</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Guides<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/guide-cli">ReNative CLI</a></li><li class="navListItem"><a class="navItem" href="/docs/next/guide-plugins">Plugins</a></li><li class="navListItem"><a class="navItem" href="/docs/next/guide-templates">Templates</a></li><li class="navListItem"><a class="navItem" href="/docs/next/guide-workspaces">Workspaces</a></li><li class="navListItem"><a class="navItem" href="/docs/next/guide-config">Config Files</a></li><li class="navListItem"><a class="navItem" href="/docs/next/guide-file_extensions">File Extensions</a></li><li class="navListItem"><a class="navItem" href="/docs/next/guide-config_folders">Config Folders</a></li><li class="navListItem"><a class="navItem" href="/docs/next/guide-build_hooks">Build Hooks</a></li><li class="navListItem"><a class="navItem" href="/docs/next/guide-runtime">Runtime</a></li><li class="navListItem"><a class="navItem" href="/docs/next/guide-common_issues">Common Issues</a></li><li class="navListItem"><a class="navItem" href="/docs/next/guide-develop">Develop ReNative</a></li><li class="navListItem"><a class="navItem" href="/docs/next/guide-engines">Engines</a></li><li class="navListItem"><a class="navItem" href="/docs/next/guide-analytics">Analytics</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Configs<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/config-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/next/config-workspaces">Workspace Configs</a></li><li class="navListItem"><a class="navItem" href="/docs/next/config-global">Global Configs</a></li><li class="navListItem"><a class="navItem" href="/docs/next/config-project">Project Configs</a></li><li class="navListItem"><a class="navItem" href="/docs/next/config-app">App Configs</a></li><li class="navListItem"><a class="navItem" href="/docs/next/config-template">Template Configs</a></li><li class="navListItem"><a class="navItem" href="/docs/next/config-build">Build Config</a></li><li class="navListItem"><a class="navItem" href="/docs/next/config-runtime">Runtime Config</a></li><li class="navListItem"><a class="navItem" href="/docs/next/config-private">Private Configs</a></li><li class="navListItem"><a class="navItem" href="/docs/next/config-local">Local Configs</a></li><li class="navListItem"><a class="navItem" href="/docs/next/config-plugin">Plugin Configs</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Platforms<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/platforms">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-android">Android</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-androidtv">Android TV</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-androidwear">Android Wear</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-chromecast">Chromecast</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-firefoxos">Firefox OS</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-firefoxtv">Firefox TV</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-ios">iOS</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-kaios">KaiOS</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-macos">macOS</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-tizen">Tizen TV</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-tizenmobile">Tizen Mobile</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-tizenwatch">Tizen Watch</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-tvos">tvOS</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-web">Web</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-webos">LG WebOS</a></li><li class="navListItem"><a class="navItem" href="/docs/next/platform-windows">Windows</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Plugins<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/plugins">Plugins Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Engines<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/engine-core">Core</a></li><li class="navListItem"><a class="navItem" href="/docs/next/engine-rn">React Native</a></li><li class="navListItem"><a class="navItem" href="/docs/next/engine-rn-web">React Native Web</a></li><li class="navListItem"><a class="navItem" href="/docs/next/engine-rn-electron">React Native Electron</a></li><li class="navListItem"><a class="navItem" href="/docs/next/engine-rn-next">React Native Next</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Templates<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/template-hello-world">template-hello-world</a></li><li class="navListItem"><a class="navItem" href="/docs/next/template-blank">template-blank</a></li><li class="navListItem"><a class="navItem" href="/docs/next/template-kitchen-sink">template-kitchen-sink</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Integrations<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/integration_aws">AWS</a></li><li class="navListItem"><a class="navItem" href="/docs/next/integration_azure">Azure</a></li><li class="navListItem"><a class="navItem" href="/docs/next/integration_docker">Docker</a></li><li class="navListItem"><a class="navItem" href="/docs/next/integration_fastlane">Fastlane</a></li><li class="navListItem"><a class="navItem" href="/docs/next/integration_ftp">FTP</a></li><li class="navListItem"><a class="navItem" href="/docs/next/integration_now">Now</a></li><li class="navListItem"><a class="navItem" href="/docs/next/integration_testflight">TestFlight</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Upgrades<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/docs/next/upgrade-0.31">0.31.x</a></li><li class="navListItem"><a class="navItem" href="/docs/next/upgrade-0.30">0.30.x</a></li><li class="navListItem"><a class="navItem" href="/docs/next/upgrade-0.29">0.29.x</a></li><li class="navListItem"><a class="navItem" href="/docs/next/upgrade-0.28">0.28.x</a></li><li class="navListItem"><a class="navItem" href="/docs/next/upgrade-0.27">0.27.x</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Release Notes<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/next/changelog">Changelog</a></li><li class="navListItem"><a class="navItem" href="/docs/next/release-0.31.x">0.31.x (Baby Yoda)</a></li><li class="navListItem"><a class="navItem" href="/docs/next/release-0.30.x">0.30.x (Mandalorian)</a></li><li class="navListItem"><a class="navItem" href="/docs/next/release-0.29.x">0.29.x (Iron Ladybird)</a></li><li class="navListItem"><a class="navItem" href="/docs/next/release-0.28.x">0.28.x (Nutmeg)</a></li><li class="navListItem"><a class="navItem" href="/docs/next/release-0.27.x">0.27.x (Space Inverter)</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Upgrade to 0.31.x Guide</h1></header><article><div><span><p><img src="https://renative.org/img/ic_upgrade.png" width=50 height=50 /></p>
<hr>
<ul>
<li><code>.next.js</code> extension is DEPRECATED. use <code>.web.js</code> and <code>.server.web.js</code> in combination with engine <code>engine-rn-next</code> instead</li>
</ul>
<p>REASON: next.js was temporary <code>web-next</code> platform extension. this has been replaced with <code>engine-rn-next</code> which supports standard <code>-p web</code></p>
<ul>
<li><code>rnv configure</code> now requires platform <code>-p</code> specified. if you don't, rnv will ask you to pick one. if you use <code>--ci</code> option command will fail.</li>
</ul>
<p>REASON: <code>rnv configure</code> used to run configure command on all supported platforms of the project at once but that is hardly ever needed as all platform commands chain back to configure anyway. this created unnecessary log builds</p>
<p>NOTE: <code>rnv configure</code> is not necessary if you plan to run <code>rnv run / build / export / package</code> afterwards as these commands will run configure task as dependency anyway</p>
<hr>
<p>NextJS config should migrate to use withRNV from <code>@rnv/engine-rn-next</code>:</p>
<p><code>next.config.js</code></p>
<pre><code class="hljs">const { withRNV } = require(<span class="hljs-string">'@rnv/engine-rn-next'</span>);
const path = require(<span class="hljs-string">'path'</span>);

const<span class="hljs-built_in"> config </span>= {

};

module.exports = withRNV(config);
</code></pre>
<p>Metro config should migrate to use withRNV from <code>@rnv/engine-rn</code>:</p>
<p><code>metro.config.js</code></p>
<pre><code class="hljs">const path = require(<span class="hljs-string">'path'</span>);
const { withRNV } = require(<span class="hljs-string">'@rnv/engine-rn'</span>);

const<span class="hljs-built_in"> config </span>= {

};

module.exports = withRNV(config);
</code></pre>
<hr>
<ul>
<li>appConfigs/**/builds/_shared is DEPRECATED. use appConfigs/**/builds/&lt;PLATFORM&gt; instead</li>
</ul>
<hr>
<p>iOS Template has been updated to follow new requirements for storyboard based launch screen. More info:  <a href="https://developer.apple.com/news/?id=01132020b">https://developer.apple.com/news/?id=01132020b</a></p>
<p>new launch images should be placed to your assets configs typically:</p>
<pre><code class="hljs">.
└── [appConfigs/&lt;appConfig&gt;/assets/ios/Assets.xcassets/<span class="hljs-keyword">launch</span>-<span class="hljs-keyword">image</span>.imageset]
    ├── <span class="hljs-keyword">launch</span>-<span class="hljs-keyword">image</span>.png
    ├── <span class="hljs-keyword">launch</span>-<span class="hljs-keyword">image</span>@2x.png
    └── <span class="hljs-keyword">launch</span>-<span class="hljs-keyword">image</span>@3x.png

</code></pre>
<p>Recommended size is 1000x1000, 2000x2000 and 3000x3000 to cover all iOS screen densities</p>
<p><img src="/img/launch-image-guide.png" alt="ios launch image guide"></p>
<hr>
<ul>
<li><code>-p web-next</code>, <code>-e next</code> are no longer be available.</li>
</ul>
<p>Use:</p>
<pre><code class="hljs css language-json">{
    <span class="hljs-attr">"platforms"</span>: {
        <span class="hljs-attr">"web"</span>: {
            <span class="hljs-attr">"engine"</span>: <span class="hljs-string">"engine-rn-next"</span>
        }
    }
}
</code></pre>
<p>instead</p>
<hr>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/next/integration_testflight"><span class="arrow-prev">← </span><span class="function-name-prevnext">TestFlight</span></a><a class="docs-next button" href="/docs/next/upgrade-0.30"><span>0.30.x</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo.png" alt="ReNative" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/intro-installation">Getting Started</a><a href="/docs/platform">Platforms</a><a href="/docs/guide-cli">Guides</a></div><div><h5>Community</h5><a href="https://spectrum.chat/renative">Project Chat</a><a href="https://twitter.com/renative" target="_blank" rel="noreferrer noopener">Twitter</a><a href="/help">Contributors</a></div><div><h5>More</h5><a href="https://github.com/pavjacko/renative">GitHub</a><a class="github-button" href="https://github.com/pavjacko/renative" data-icon="octicon-star" data-count-href="/pavjacko/renative/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><div class="social"><a href="https://twitter.com/renative" class="twitter-follow-button">Follow @renative</a></div></div></section><section class="copyright"></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'ce70fa21a21dad8ee49ed142a8a63b67',
                indexName: 'renative',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>